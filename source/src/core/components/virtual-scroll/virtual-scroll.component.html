<cdk-virtual-scroll-viewport
  style="height: 100%"
  [style.minHeight]="minHeight"
  [itemSize]="rowSizePx"
  [minBufferPx]="rowSizePx"
  [maxBufferPx]="rowSizePx * 2"
>
  <ion-row *cdkVirtualFor="let group of groupList">
    @for (item of group; track item.id) {
    <ion-col [size]="colSize">
      <ng-container
        *ngTemplateOutlet="itemTemplate; context: { item: item }"
      ></ng-container>
    </ion-col>
    }
  </ion-row>
</cdk-virtual-scroll-viewport>

@if (isLoading) {
<ion-row>
  @for (elements of skeletonFakePositions; track $index) {
  <ion-col
    [size]="colSize"
    style="width: 100%"
    [style.maxWidth]="'25%'"
    [style.height]="rowSizePx + 'px'"
  >
    <ion-skeleton-text
      style="width: 100%; height: 100%"
      animated
    ></ion-skeleton-text>
  </ion-col>
  }
</ion-row>
} @else if (!isLoading && !groupList.length) {
  <ng-container *ngTemplateOutlet="noContentTemplate"></ng-container>
}
